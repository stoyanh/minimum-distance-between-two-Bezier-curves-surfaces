<html>

<head>

</head>

<body>
    <input id="myInput" type="file" style="visibility:hidden" />
    <script src="js/three.js"></script>
    <script src="js/dat.gui.min.js"></script>
    <script src="js/BezierCurve.js"></script>

    <script>
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setClearColor(0xEEEEEE);
        document.body.appendChild(renderer.domElement);
        camera.position.z = 25;


        function clear_scene() {
            while (scene.children.length > 0) {
                scene.remove(scene.children[0]);
            }
        }

        function render_scene() {
            renderer.render(scene, camera);
        }

        function add_curve(control_points) {
            const curve = new BezierCurve(control_points);
            const points = curve.getPoints(50);
            const geometry = new THREE.BufferGeometry().setFromPoints(points);

            const material = new THREE.LineBasicMaterial({ color: 0xff0000 });

            // Create the final object to add to the scene
            scene.add(new THREE.Line(geometry, material));
        }

        add_curve([new THREE.Vector3(-10, 0, 0),
        new THREE.Vector3(-5, 15, 0),
        new THREE.Vector3(20, 15, 0),
        new THREE.Vector3(10, 0, 0)]);

        //file loader
        const gui = new dat.GUI({ width: 310 });
        const params = {
            loadFile: function () {
                document.getElementById('myInput').click();
            }
        };

        gui.add(params, 'loadFile').name("Load");


        render_scene();

    </script>
</body>

</html>